"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[194],{9194:function(e,r,n){n.r(r);var t=n(7437),a=n(2265),l=n(7818);let o=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(102)]).then(n.bind(n,7411)),{loadableGenerated:{webpack:()=>[7411]},ssr:!1}),s=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(547)]).then(n.bind(n,3997)),{loadableGenerated:{webpack:()=>[3997]},ssr:!1}),i=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(593)]).then(n.bind(n,2940)),{loadableGenerated:{webpack:()=>[2940]},ssr:!1}),d=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(351)]).then(n.bind(n,7859)),{loadableGenerated:{webpack:()=>[7859]},ssr:!1}),c=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(182)]).then(n.bind(n,295)),{loadableGenerated:{webpack:()=>[295]},ssr:!1}),u=(0,l.default)(()=>Promise.all([n.e(249),n.e(448),n.e(818),n.e(282),n.e(567),n.e(492)]).then(n.bind(n,7601)),{loadableGenerated:{webpack:()=>[7601]},ssr:!1});r.default=e=>{let{isOpen:r,onClose:n,documentType:l,data:w}=e,x=(0,a.useRef)(null),h=(0,a.useRef)(null),m=(0,a.useRef)(null),f=(0,a.useRef)(null),b=(0,a.useRef)(null),v=(0,a.useRef)(null),g=(0,a.useRef)(null),[p,j]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{j(!0)},[]),(0,a.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&n()};return r&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[r,n]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&n()};return r&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[r,n]),!r)return null;let k=async()=>{try{if("invoice"===l&&h.current)await h.current.downloadPDF();else if("quotation"===l){let e=w.companyName||"";e.includes("Global Trading Corporation")&&f.current?await f.current.downloadPDF():e.includes("Rudharma")&&b.current?await b.current.downloadPDF():m.current&&await m.current.downloadPDF()}else"challan"===l&&v.current?await v.current.downloadPDF():"taxable-invoice"===l&&g.current&&await g.current.downloadPDF()}catch(e){console.error("Error downloading PDF:",e),alert("Error downloading PDF. Please try again.")}};return(0,t.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:(0,t.jsxs)("div",{ref:x,className:"bg-white rounded-xl shadow-2xl w-11/12 h-5/6 max-w-6xl flex flex-col",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,t.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"invoice"===l?"Performa Invoice Preview":"quotation"===l?"Quotation Preview":"taxable-invoice"===l?"Taxable Invoice Preview":"Challan Preview"]}),(0,t.jsx)("button",{onClick:n,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors duration-200","aria-label":"Close",children:(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,t.jsx)("div",{className:"flex-grow overflow-auto p-5 bg-gray-50",children:(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 h-full",children:p?"invoice"===l?(0,t.jsx)(o,{ref:h,invoice:w}):"quotation"===l?(()=>{let e=w.companyName||"";return e.includes("Global Trading Corporation")?(0,t.jsx)(i,{ref:f,quotation:w}):e.includes("Rudharma")?(0,t.jsx)(d,{ref:b,quotation:w}):(0,t.jsx)(s,{ref:m,quotation:w})})():"taxable-invoice"===l?(0,t.jsx)(u,{ref:g,...w}):(0,t.jsx)(c,{ref:v,challan:w}):(0,t.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading PDF viewer..."})]})})})}),(0,t.jsxs)("div",{className:"p-5 border-t flex justify-end space-x-3 bg-gray-50",children:[(0,t.jsxs)("button",{onClick:n,className:"bg-gray-200 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center shadow-sm",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Close"]}),(0,t.jsxs)("button",{onClick:k,className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center shadow-sm",children:[(0,t.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]})]})]})})}}}]);