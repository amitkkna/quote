(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[479,194],{7223:function(e,t,s){Promise.resolve().then(s.bind(s,3983))},9194:function(e,t,s){"use strict";s.r(t);var r=s(7437),a=s(2265),n=s(7818);let l=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(102)]).then(s.bind(s,7411)),{loadableGenerated:{webpack:()=>[7411]},ssr:!1}),i=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(547)]).then(s.bind(s,3997)),{loadableGenerated:{webpack:()=>[3997]},ssr:!1}),o=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(593)]).then(s.bind(s,2940)),{loadableGenerated:{webpack:()=>[2940]},ssr:!1}),d=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(351)]).then(s.bind(s,7859)),{loadableGenerated:{webpack:()=>[7859]},ssr:!1}),c=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(182)]).then(s.bind(s,295)),{loadableGenerated:{webpack:()=>[295]},ssr:!1}),u=(0,n.default)(()=>Promise.all([s.e(249),s.e(448),s.e(818),s.e(282),s.e(567),s.e(492)]).then(s.bind(s,7601)),{loadableGenerated:{webpack:()=>[7601]},ssr:!1});t.default=e=>{let{isOpen:t,onClose:s,documentType:n,data:m}=e,x=(0,a.useRef)(null),g=(0,a.useRef)(null),h=(0,a.useRef)(null),b=(0,a.useRef)(null),f=(0,a.useRef)(null),p=(0,a.useRef)(null),j=(0,a.useRef)(null),[v,w]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{w(!0)},[]),(0,a.useEffect)(()=>{let e=e=>{x.current&&!x.current.contains(e.target)&&s()};return t&&document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[t,s]),(0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&s()};return t&&document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t,s]),!t)return null;let y=async()=>{try{if("invoice"===n&&g.current)await g.current.downloadPDF();else if("quotation"===n){let e=m.companyName||"";e.includes("Global Trading Corporation")&&b.current?await b.current.downloadPDF():e.includes("Rudharma")&&f.current?await f.current.downloadPDF():h.current&&await h.current.downloadPDF()}else"challan"===n&&p.current?await p.current.downloadPDF():"taxable-invoice"===n&&j.current&&await j.current.downloadPDF()}catch(e){console.error("Error downloading PDF:",e),alert("Error downloading PDF. Please try again.")}};return(0,r.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-60 backdrop-blur-sm",children:(0,r.jsxs)("div",{ref:x,className:"bg-white rounded-xl shadow-2xl w-11/12 h-5/6 max-w-6xl flex flex-col",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center p-5 border-b",children:[(0,r.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6 mr-2 text-blue-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"invoice"===n?"Performa Invoice Preview":"quotation"===n?"Quotation Preview":"taxable-invoice"===n?"Taxable Invoice Preview":"Challan Preview"]}),(0,r.jsx)("button",{onClick:s,className:"text-gray-500 hover:text-gray-700 hover:bg-gray-100 rounded-full p-2 transition-colors duration-200","aria-label":"Close",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,r.jsx)("div",{className:"flex-grow overflow-auto p-5 bg-gray-50",children:(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-2 h-full",children:v?"invoice"===n?(0,r.jsx)(l,{ref:g,invoice:m}):"quotation"===n?(()=>{let e=m.companyName||"";return e.includes("Global Trading Corporation")?(0,r.jsx)(o,{ref:b,quotation:m}):e.includes("Rudharma")?(0,r.jsx)(d,{ref:f,quotation:m}):(0,r.jsx)(i,{ref:h,quotation:m})})():"taxable-invoice"===n?(0,r.jsx)(u,{ref:j,...m}):(0,r.jsx)(c,{ref:p,challan:m}):(0,r.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,r.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading PDF viewer..."})]})})})}),(0,r.jsxs)("div",{className:"p-5 border-t flex justify-end space-x-3 bg-gray-50",children:[(0,r.jsxs)("button",{onClick:s,className:"bg-gray-200 text-gray-700 px-5 py-2 rounded-lg hover:bg-gray-300 transition-colors duration-200 flex items-center shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Close"]}),(0,r.jsxs)("button",{onClick:y,className:"bg-blue-600 text-white px-5 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200 flex items-center shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-4l-4 4m0 0l-4-4m4 4V4"})}),"Download PDF"]})]})]})})}},3983:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return o}});var r=s(7437),a=s(2265),n=s(7138),l=e=>{let{initialItems:t=[],onItemsChange:s}=e,n=[{id:"serial_no",name:"S. No.",width:"8%",isRequired:!0},{id:"description",name:"Description",width:"30%",isRequired:!0},{id:"hsn_sac_code",name:"HSN/SAC Code",width:"12%",isRequired:!0},{id:"quantity",name:"Quantity",width:"10%",isRequired:!0},{id:"rate",name:"Taxable Value",width:"12%",isRequired:!0},{id:"amount",name:"Amount",width:"13%",isRequired:!0}],[l,i]=(0,a.useState)(n),[o,d]=(0,a.useState)(t.length>0?t.map((e,t)=>({...e,serial_no:e.serial_no||(t+1).toString()})):[{id:"1",serial_no:"1",description:"",hsn_sac_code:"",quantity:1,rate:0,amount:0}]),[c,u]=(0,a.useState)(""),[m,x]=(0,a.useState)(!1),g=(e,t)=>e*t;(0,a.useEffect)(()=>{s(o)},[o,s]);let h=e=>{d(o.filter(t=>t.id!==e))},b=(e,t,s)=>{d(o.map(r=>{if(r.id===e){let e={...r,[t]:s};if("quantity"===t||"rate"===t){let a="quantity"===t?parseFloat(s)||0:r.quantity,n="rate"===t?parseFloat(s)||0:r.rate;e.amount=g(a,n)}return e}return r}))},f=e=>{let t=l.find(t=>t.id===e);null!=t&&t.isRequired||(i(l.filter(t=>t.id!==e)),d(o.map(t=>{let s={...t};return delete s[e],s})))},p=(e,t)=>{if("Enter"===e.key&&e.ctrlKey){e.preventDefault();let s=e.currentTarget,r=s.selectionStart,a=s.selectionEnd,n=s.value;b(t,"description",n.substring(0,r)+"\n"+n.substring(a)),setTimeout(()=>{s.selectionStart=s.selectionEnd=r+1},0)}};return(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center mb-4 gap-3",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Invoice Items"}),(0,r.jsxs)("span",{className:"ml-2 bg-blue-100 text-blue-800 text-xs font-medium px-2.5 py-0.5 rounded",children:[o.length," ",1===o.length?"item":"items"]})]}),(0,r.jsx)("div",{className:"flex space-x-2",children:(0,r.jsx)("button",{type:"button",onClick:()=>x(!m),className:"flex items-center px-4 py-2 rounded-lg text-sm font-medium shadow-sm transition-all duration-200 ".concat(m?"bg-gray-200 text-gray-700 hover:bg-gray-300":"bg-purple-600 text-white hover:bg-purple-700"),children:m?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})}),"Cancel"]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Custom Column"]})})})]}),m&&(0,r.jsxs)("div",{className:"mb-6 p-4 bg-purple-50 rounded-lg border border-purple-200 shadow-sm",children:[(0,r.jsx)("h3",{className:"text-sm font-medium text-purple-800 mb-3",children:"Add a Custom Column"}),(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center gap-3",children:[(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("input",{type:"text",value:c,onChange:e=>u(e.target.value),placeholder:"Enter column name (e.g. HSN Code, Unit, Brand)",className:"w-full border border-purple-300 rounded-lg p-3 focus:ring-2 focus:ring-purple-500 focus:border-purple-500 transition-all duration-200"})}),(0,r.jsx)("button",{type:"button",onClick:()=>{if(!c.trim())return;let e=c.toLowerCase().replace(/\s+/g,"_");if(l.some(t=>t.id===e)){alert("A column with this name already exists");return}let t=l.findIndex(e=>"amount"===e.id),s=[...l];s.splice(t,0,{id:e,name:c,width:"15%",isRequired:!1}),i(s),d(o.map(t=>({...t,[e]:""}))),u(""),x(!1)},disabled:!c.trim(),className:"whitespace-nowrap px-4 py-3 rounded-lg font-medium shadow-sm transition-all duration-200 ".concat(c.trim()?"bg-purple-600 text-white hover:bg-purple-700":"bg-gray-300 text-gray-500 cursor-not-allowed"),children:(0,r.jsxs)("span",{className:"flex items-center",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Column"]})})]}),(0,r.jsx)("p",{className:"text-xs text-purple-600 mt-2",children:"Custom columns will appear before the Amount column. Amount is automatically calculated from Quantity \xd7 Taxable Value."})]}),(0,r.jsx)("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:(0,r.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,r.jsx)("thead",{className:"bg-gray-100",children:(0,r.jsxs)("tr",{children:[l.map(e=>(0,r.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-700 uppercase tracking-wider",style:{width:e.width},children:(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsx)("span",{children:e.name}),!e.isRequired&&(0,r.jsx)("button",{type:"button",onClick:()=>f(e.id),className:"text-red-500 hover:text-red-700 hover:bg-red-100 rounded-full p-1 transition-colors duration-200",title:"Remove column",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]})},e.id)),(0,r.jsx)("th",{className:"px-4 py-3 text-center text-xs font-medium text-gray-700 uppercase tracking-wider",style:{width:"80px"},children:"Actions"})]})}),(0,r.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e,t)=>(0,r.jsxs)("tr",{className:t%2==0?"bg-white":"bg-gray-50",children:[l.map(s=>(0,r.jsx)("td",{className:"px-4 py-3",children:"serial_no"===s.id?(0,r.jsx)("div",{className:"text-center font-medium text-gray-600",children:t+1}):"description"===s.id?(0,r.jsx)("textarea",{value:e[s.id]||"",onChange:t=>b(e.id,s.id,t.target.value),onKeyDown:t=>p(t,e.id),className:"block w-full border border-gray-300 rounded-lg p-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 resize-none",rows:2,placeholder:"Enter description (Ctrl+Enter for new line)"}):"quantity"===s.id||"rate"===s.id?(0,r.jsx)("input",{type:"number",value:e[s.id]||"",onChange:t=>b(e.id,s.id,""===t.target.value?0:parseFloat(t.target.value)||0),className:"block w-full border border-gray-300 rounded-lg p-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 text-right",min:"0",step:"quantity"===s.id?"1":"0.01",placeholder:"quantity"===s.id?"1":"0.00"}):"amount"===s.id?(0,r.jsxs)("div",{className:"text-right font-medium text-gray-900 bg-gray-50 p-2 rounded border",children:["₹",(e.amount||0).toLocaleString("en-IN",{minimumFractionDigits:2})]}):(0,r.jsx)("input",{type:"text",value:e[s.id]||"",onChange:t=>b(e.id,s.id,t.target.value),className:"block w-full border border-gray-300 rounded-lg p-2 shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200",placeholder:"hsn_sac_code"===s.id?"Enter HSN/SAC code":"Enter ".concat(s.name.toLowerCase())})},"".concat(e.id,"-").concat(s.id))),(0,r.jsx)("td",{className:"px-4 py-4 text-center",style:{width:"80px"},children:(0,r.jsx)("button",{type:"button",onClick:()=>h(e.id),disabled:1===o.length,className:"flex items-center justify-center text-sm font-medium rounded-full p-2 transition-colors duration-200 ".concat(1===o.length?"text-gray-400 cursor-not-allowed":"text-red-600 hover:text-red-900 hover:bg-red-50"),title:"Remove item",children:(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id))})]})}),(0,r.jsxs)("button",{type:"button",onClick:()=>{let e={id:(o.length+1).toString(),serial_no:(o.length+1).toString(),description:"",hsn_sac_code:"",quantity:1,rate:0,amount:0};l.forEach(t=>{n.some(e=>e.id===t.id)||(e[t.id]="")}),d([...o,e])},className:"mt-4 bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 transition-colors duration-200 flex items-center shadow-sm",children:[(0,r.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Add Item"]})]})},i=s(9194);function o(){let[e,t]=(0,a.useState)(""),[s,o]=(0,a.useState)(new Date().toISOString().split("T")[0]),[d,c]=(0,a.useState)(""),[u,m]=(0,a.useState)(""),[x,g]=(0,a.useState)(""),[h,b]=(0,a.useState)(""),[f,p]=(0,a.useState)(""),[j,v]=(0,a.useState)(""),[w,y]=(0,a.useState)(""),[N,k]=(0,a.useState)(""),[C,S]=(0,a.useState)(!0),[P,L]=(0,a.useState)([{id:"1",description:"",quantity:1,rate:0,amount:0}]),[T,_]=(0,a.useState)([]),[F,q]=(0,a.useState)({igst:0,cgst:0,sgst:0}),[I,D]=(0,a.useState)("cgst_sgst"),[R,E]=(0,a.useState)(""),[G,M]=(0,a.useState)(!1),[O,A]=(0,a.useState)(!1),B=e=>{S(e),e&&(v(x),y(h),k(f))},W=e=>{D(e),"igst"===e?q({igst:F.igst,cgst:0,sgst:0}):q({igst:0,cgst:F.cgst,sgst:F.sgst})},H=()=>P.reduce((e,t)=>e+t.amount,0),V=()=>{let e=H();return"igst"===I?e*F.igst/100:e*F.cgst/100+e*F.sgst/100},z=()=>H()+V(),Q={invoiceNumber:e,invoiceDate:s,poReference:d,poDate:u,billTo:{name:x,address:h,gst:f},shipTo:{name:j,address:w,gst:N},items:P,customColumns:T,taxRates:F,taxType:I,subtotal:H(),taxAmount:V(),total:z(),termsAndConditions:R,fitToOnePage:G};return(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 p-4 md:p-6",children:(0,r.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Create Taxable Invoice"}),(0,r.jsx)("p",{className:"text-gray-600 mt-1",children:"Generate professional taxable invoices with GST calculations"})]}),(0,r.jsx)(n.default,{href:"/",className:"bg-gray-500 text-white px-4 py-2 rounded-lg hover:bg-gray-600 transition-colors duration-200",children:"Back to Home"})]})}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invoice Details"}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Number *"}),(0,r.jsx)("input",{type:"text",value:e,onChange:e=>t(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"INV-001",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Invoice Date *"}),(0,r.jsx)("input",{type:"date",value:s,onChange:e=>o(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Reference"}),(0,r.jsx)("input",{type:"text",value:d,onChange:e=>c(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"PO-12345"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"PO Date"}),(0,r.jsx)("input",{type:"date",value:u,onChange:e=>m(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Bill To Address *"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name *"}),(0,r.jsx)("input",{type:"text",value:x,onChange:e=>{g(e.target.value),C&&v(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Customer Name",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address *"}),(0,r.jsx)("textarea",{value:h,onChange:e=>{b(e.target.value),C&&y(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:3,placeholder:"Complete Address",required:!0})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),(0,r.jsx)("input",{type:"text",value:f,onChange:e=>{p(e.target.value),C&&k(e.target.value)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"GST Number"})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:"Ship To Address"}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",checked:C,onChange:e=>B(e.target.checked),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-600",children:"Same as Bill To"})]})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Customer Name"}),(0,r.jsx)("input",{type:"text",value:j,onChange:e=>v(e.target.value),disabled:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"Customer Name"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,r.jsx)("textarea",{value:w,onChange:e=>y(e.target.value),disabled:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",rows:3,placeholder:"Complete Address"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"GST Number"}),(0,r.jsx)("input",{type:"text",value:N,onChange:e=>k(e.target.value),disabled:C,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:bg-gray-100",placeholder:"GST Number"})]})]})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invoice Items"}),(0,r.jsx)(l,{initialItems:P,onItemsChange:L})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Tax Configuration"}),(0,r.jsxs)("div",{className:"mb-6",children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Tax Type"}),(0,r.jsxs)("div",{className:"flex space-x-4",children:[(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"taxType",value:"cgst_sgst",checked:"cgst_sgst"===I,onChange:()=>W("cgst_sgst"),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"CGST + SGST (Intra-state)"})]}),(0,r.jsxs)("label",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"radio",name:"taxType",value:"igst",checked:"igst"===I,onChange:()=>W("igst"),className:"mr-2"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:"IGST (Inter-state)"})]})]})]}),(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:"igst"===I?(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IGST Rate (%)"}),(0,r.jsx)("input",{type:"number",value:F.igst,onChange:e=>q({...F,igst:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"18",min:"0",max:"100",step:"0.01"})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"CGST Rate (%)"}),(0,r.jsx)("input",{type:"number",value:F.cgst,onChange:e=>q({...F,cgst:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"9",min:"0",max:"100",step:"0.01"})]}),(0,r.jsxs)("div",{children:[(0,r.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SGST Rate (%)"}),(0,r.jsx)("input",{type:"number",value:F.sgst,onChange:e=>q({...F,sgst:parseFloat(e.target.value)||0}),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"9",min:"0",max:"100",step:"0.01"})]})]})})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Invoice Summary"}),(0,r.jsxs)("div",{className:"space-y-3",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsx)("span",{className:"text-gray-700",children:"Subtotal:"}),(0,r.jsxs)("span",{className:"font-semibold",children:["₹",H().toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),"igst"===I?(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-gray-700",children:["IGST (",F.igst,"%):"]}),(0,r.jsxs)("span",{className:"font-semibold",children:["₹",(H()*F.igst/100).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-gray-700",children:["CGST (",F.cgst,"%):"]}),(0,r.jsxs)("span",{className:"font-semibold",children:["₹",(H()*F.cgst/100).toLocaleString("en-IN",{minimumFractionDigits:2})]})]}),(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("span",{className:"text-gray-700",children:["SGST (",F.sgst,"%):"]}),(0,r.jsxs)("span",{className:"font-semibold",children:["₹",(H()*F.sgst/100).toLocaleString("en-IN",{minimumFractionDigits:2})]})]})]}),(0,r.jsx)("div",{className:"border-t pt-3",children:(0,r.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,r.jsx)("span",{className:"text-gray-900",children:"Total Amount:"}),(0,r.jsxs)("span",{className:"text-blue-600",children:["₹",z().toLocaleString("en-IN",{minimumFractionDigits:2})]})]})})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Terms and Conditions"}),(0,r.jsx)("textarea",{value:R,onChange:e=>E(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:4,placeholder:"Enter terms and conditions..."})]}),(0,r.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,r.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-4",children:"PDF Layout Options"}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("input",{type:"checkbox",id:"fitToOnePage",checked:G,onChange:e=>M(e.target.checked),className:"mr-3 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,r.jsxs)("label",{htmlFor:"fitToOnePage",className:"text-sm text-gray-700",children:[(0,r.jsx)("span",{className:"font-medium",children:"Fit to One Page"}),(0,r.jsx)("span",{className:"block text-gray-500 text-xs mt-1",children:"Compress content to fit in a single page (reduces font size and spacing)"})]})]})]}),(0,r.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,r.jsx)("div",{className:"flex justify-end space-x-4",children:(0,r.jsx)("button",{onClick:()=>{if(!e||!x||0===P.length){alert("Please fill in all required fields");return}A(!0)},className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-200",children:"Preview & Download PDF"})})}),O&&(0,r.jsx)(i.default,{isOpen:O,onClose:()=>A(!1),documentType:"taxable-invoice",data:Q})]})})}},7818:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(551),a=s.n(r)},7138:function(e,t,s){"use strict";s.d(t,{default:function(){return a.a}});var r=s(231),a=s.n(r)},551:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return n}});let r=s(8454);s(7437),s(2265);let a=r._(s(148));function n(e,t){var s;let r={loading:e=>{let{error:t,isLoading:s,pastDelay:r}=e;return null}};"function"==typeof e&&(r.loader=e);let n={...r,...t};return(0,a.default)({...n,modules:null==(s=n.loadableGenerated)?void 0:s.modules})}("function"==typeof t.default||"object"==typeof t.default&&null!==t.default)&&void 0===t.default.__esModule&&(Object.defineProperty(t.default,"__esModule",{value:!0}),Object.assign(t.default,t),e.exports=t.default)},912:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"BailoutToCSR",{enumerable:!0,get:function(){return a}});let r=s(5592);function a(e){let{reason:t,children:s}=e;if("undefined"==typeof window)throw new r.BailoutToCSRError(t);return s}},148:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"default",{enumerable:!0,get:function(){return d}});let r=s(7437),a=s(2265),n=s(912),l=s(1481);function i(e){return{default:e&&"default"in e?e.default:e}}let o={loader:()=>Promise.resolve(i(()=>null)),loading:null,ssr:!0},d=function(e){let t={...o,...e},s=(0,a.lazy)(()=>t.loader().then(i)),d=t.loading;function c(e){let i=d?(0,r.jsx)(d,{isLoading:!0,pastDelay:!0,error:null}):null,o=t.ssr?(0,r.jsxs)(r.Fragment,{children:["undefined"==typeof window?(0,r.jsx)(l.PreloadCss,{moduleIds:t.modules}):null,(0,r.jsx)(s,{...e})]}):(0,r.jsx)(n.BailoutToCSR,{reason:"next/dynamic",children:(0,r.jsx)(s,{...e})});return(0,r.jsx)(a.Suspense,{fallback:i,children:o})}return c.displayName="LoadableComponent",c}},1481:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"PreloadCss",{enumerable:!0,get:function(){return a}});let r=s(7437);function a(e){let{moduleIds:t}=e;if("undefined"!=typeof window)return null;let{getExpectedRequestStore:a}=s(8512),n=a(),l=[];if(n.reactLoadableManifest&&t){let e=n.reactLoadableManifest;for(let s of t){if(!e[s])continue;let t=e[s].files.filter(e=>e.endsWith(".css"));l.push(...t)}}return 0===l.length?null:(0,r.jsx)(r.Fragment,{children:l.map(e=>(0,r.jsx)("link",{precedence:"dynamic",rel:"stylesheet",href:n.assetPrefix+"/_next/"+encodeURI(e),as:"style"},e))})}}},function(e){e.O(0,[231,971,23,744],function(){return e(e.s=7223)}),_N_E=e.O()}]);