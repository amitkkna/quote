(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[763],{2480:function(){},4975:function(e,t,a){Promise.resolve().then(a.bind(a,1649))},2840:function(e,t,a){"use strict";var i=a(7437),n=a(2265);t.Z=e=>{let{children:t}=e,[a,r]=(0,n.useState)(!1);return((0,n.useEffect)(()=>{r(!0)},[]),a)?(0,i.jsx)(i.Fragment,{children:t}):(0,i.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,i.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading PDF viewer..."})]})})}},1649:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return c}});var i=a(7437),n=a(2265),r=a(838),s=a(2840);let l=()=>new Date().toLocaleDateString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric"}),o=e=>r.mM.create({page:{flexDirection:"column",backgroundColor:"#FFFFFF",padding:0,position:"relative",fontFamily:"Helvetica",paddingTop:40,paddingBottom:40},contentContainer:{padding:"image"===e.contentType?20:25,paddingTop:"image"===e.contentType?80:90,paddingBottom:"image"===e.contentType?60:70,flexGrow:1,position:"relative",zIndex:2,minHeight:"auto"},headerImage:{position:"absolute",top:20,left:0,width:"100%",height:"auto",zIndex:1},footerImage:{position:"absolute",bottom:20,left:0,width:"100%",height:"auto",zIndex:1},documentHeader:{marginBottom:20,alignItems:"center"},documentTitle:{fontSize:e.fontSize+2,fontWeight:"bold",color:"#B91C1C",textAlign:"center",marginBottom:10},dateText:{fontSize:e.fontSize,color:"#374151",textAlign:"right",marginBottom:15},table:{marginBottom:20,border:e.showBorders?"1 solid #374151":"none"},tableHeader:{flexDirection:"row",backgroundColor:"#B91C1C",color:"#FFFFFF",fontWeight:"bold",fontSize:e.fontSize,minHeight:25,alignItems:"center",borderBottom:e.showBorders?"1 solid #374151":"none"},tableRow:{flexDirection:"row",minHeight:20,alignItems:"center",borderBottom:e.showBorders?"0.5 solid #E5E7EB":"none"},tableRowAlt:{flexDirection:"row",backgroundColor:"#F9FAFB",minHeight:20,alignItems:"center",borderBottom:e.showBorders?"0.5 solid #E5E7EB":"none"},tableCell:{padding:4,fontSize:e.fontSize,textAlign:"left",borderRight:e.showBorders?"0.5 solid #E5E7EB":"none"},tableCellHeader:{padding:4,fontSize:e.fontSize,textAlign:"center",color:"#FFFFFF",fontWeight:"bold",borderRight:e.showBorders?"0.5 solid #FFFFFF":"none"},signatureSection:{marginTop:30,alignItems:"flex-end"},signatureImage:{width:70,height:35,marginBottom:5},senderName:{fontSize:e.fontSize,fontWeight:"bold",color:"#1F2937",marginBottom:2},senderDesignation:{fontSize:e.fontSize-1,color:"#6B7280"},companyName:{fontSize:e.fontSize-1,color:"#B91C1C",fontWeight:"bold",marginTop:3}}),d=(0,n.forwardRef)((e,t)=>{let{tableData:a}=e,d=o(a),c=(()=>{let e=a.headers.length;return Array(e).fill("".concat(100/e,"%"))})(),m=(0,i.jsx)(r.BB,{children:(0,i.jsxs)(r.T3,{size:"A4",style:d.page,children:[(0,i.jsx)(r.Ee,{src:"/gtc-header.jpg",style:d.headerImage}),(0,i.jsxs)(r.G7,{style:d.contentContainer,children:[(0,i.jsxs)(r.G7,{style:d.documentHeader,children:[(0,i.jsx)(r.xv,{style:d.documentTitle,children:a.title}),(0,i.jsxs)(r.xv,{style:d.dateText,children:["Date: ",l()]})]}),("table"===a.contentType||"mixed"===a.contentType)&&a.rows.length>0&&(0,i.jsxs)(r.G7,{style:d.table,children:[(0,i.jsx)(r.G7,{style:d.tableHeader,children:a.headers.map((e,t)=>(0,i.jsx)(r.xv,{style:{...d.tableCellHeader,width:c[t]},children:e},t))}),a.rows.map((e,t)=>(0,i.jsx)(r.G7,{style:t%2==0?d.tableRow:d.tableRowAlt,children:e.map((e,t)=>(0,i.jsx)(r.xv,{style:{...d.tableCell,width:c[t]||c[0],textAlign:0===t?"center":t>=a.headers.length-2?"right":"left"},children:e||""},t))},t))]}),("image"===a.contentType||"mixed"===a.contentType)&&a.images.length>0&&(0,i.jsx)(r.G7,{style:{marginBottom:20},children:a.images.map((e,t)=>(0,i.jsxs)(r.G7,{style:{marginBottom:15,alignItems:"center"},children:[e.caption&&(0,i.jsx)(r.xv,{style:{fontSize:a.fontSize,fontWeight:"bold",color:"#374151",marginBottom:5,textAlign:"center"},children:e.caption}),(0,i.jsx)(r.Ee,{src:e.data,style:{width:"".concat(e.width,"%"),height:"auto",maxHeight:400,objectFit:"contain",marginBottom:10},cache:!1})]},e.id))}),"image"===a.contentType&&0===a.images.length&&a.imageData&&(0,i.jsx)(r.G7,{style:{alignItems:"center",marginBottom:20},children:(0,i.jsx)(r.Ee,{src:a.imageData,style:{width:"".concat(a.imageWidth||80,"%"),height:"auto",maxHeight:500,objectFit:"contain"},cache:!1})}),(0,i.jsxs)(r.G7,{style:d.signatureSection,children:[(0,i.jsx)(r.Ee,{src:"/gtc-signature.jpg",style:d.signatureImage}),(0,i.jsx)(r.xv,{style:d.senderName,children:"Amit Khera"}),(0,i.jsx)(r.xv,{style:d.senderDesignation,children:"Proprietor"}),(0,i.jsx)(r.xv,{style:d.companyName,children:"Global Trading Corporation"})]})]}),(0,i.jsx)(r.Ee,{src:"/gtc-footer.jpg",style:d.footerImage})]})});return(0,n.useImperativeHandle)(t,()=>({downloadPDF:async()=>{let e=await (0,r.eA)(m).toBlob(),t=URL.createObjectURL(e),i=document.createElement("a");i.href=t,i.download="GTC-Table-".concat(a.title.replace(/[^a-zA-Z0-9]/g,"-"),"-").concat(l(),".pdf"),i.click(),URL.revokeObjectURL(t)}})),(0,i.jsx)(s.Z,{children:(0,i.jsx)(r.Z$,{style:{width:"100%",height:"600px"},children:m})})});function c(){let[e,t]=(0,n.useState)({title:"GTC Table Document",headers:["S.No.","Description","Amount"],rows:[],fontSize:9,showBorders:!0,contentType:"table",imageWidth:90,imageHeight:70,imageQuality:95,images:[]}),[a,r]=(0,n.useState)(""),[s,l]=(0,n.useState)(!1),o=(0,n.useRef)(null),c=e=>{let a=e.trim().split("\n").filter(e=>e.trim());if(0===a.length)return;let i=a[0].trim(),n=1;for(let e=1;e<a.length;e++)if(a[e].includes("S.No")||a[e].includes("Type")||a[e].includes("Brand")){n=e;break}let r=a[n].split(/\s{2,}|\t/).filter(e=>e.trim()).map(e=>e.trim()),s=[];for(let e=n+1;e<a.length;e++){let t=a[e].trim();if(t){let e=t.split(/\s{2,}|\t/).filter(e=>e.trim()).map(e=>e.trim());e.length>0&&s.push(e)}}t(e=>({...e,title:i,headers:r,rows:s}))},m=e=>{r(e),e.trim()&&c(e)},g=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.95;return new Promise(a=>{let i=document.createElement("canvas"),n=i.getContext("2d"),r=new Image;r.onload=()=>{let{width:e,height:s}=r;e>s?e>1200&&(s=1200*s/e,e=1200):s>1200&&(e=1200*e/s,s=1200),i.width=e,i.height=s,null==n||n.drawImage(r,0,0,e,s),a(i.toDataURL("image/jpeg",t))};let s=new FileReader;s.onload=e=>{var t;r.src=null===(t=e.target)||void 0===t?void 0:t.result},s.readAsDataURL(e)})},h=async a=>{let i=a.target.files;if(i&&i.length>0){let a=[];for(let t=0;t<i.length;t++){let n=i[t];try{let i=await g(n,(e.imageQuality||95)/100);a.push({id:Date.now().toString()+t,data:i,width:e.imageWidth||90,height:e.imageHeight||70,caption:n.name.replace(/\.[^/.]+$/,"")})}catch(e){console.error("Error compressing image:",e)}}t(e=>{var t;return{...e,contentType:"image",images:[...e.images,...a],imageData:null===(t=a[0])||void 0===t?void 0:t.data}})}},x=async()=>{try{for(let a of(await navigator.clipboard.read()))for(let i of a.types)if(i.startsWith("image/")){let n=await a.getType(i),r=new FileReader;r.onload=a=>{var i;let n=null===(i=a.target)||void 0===i?void 0:i.result,r={id:Date.now().toString(),data:n,width:e.imageWidth||90,height:e.imageHeight||70,caption:"Pasted Image ".concat(e.images.length+1)};t(e=>({...e,contentType:"image",images:[...e.images,r],imageData:n}))},r.readAsDataURL(n);return}alert("No image found in clipboard. Please copy an image first.")}catch(e){alert("Unable to access clipboard. Please use the file upload option instead.")}},u=e=>{t(t=>({...t,images:t.images.filter(t=>t.id!==e)}))},p=(e,a)=>{t(t=>({...t,images:t.images.map(t=>t.id===e?{...t,caption:a}:t)}))},b=(e,a,i)=>{t(t=>({...t,images:t.images.map(t=>t.id===e?{...t,width:a,height:i}:t)}))},y=async()=>{o.current&&await o.current.downloadPDF()};return(0,i.jsx)("div",{className:"min-h-screen bg-gray-50",children:(0,i.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,i.jsxs)("div",{className:"mb-8",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"GTC Table Document"}),(0,i.jsx)("p",{className:"text-gray-600",children:"Create professional table documents, image documents, or mixed content with Global Trading Corporation letterhead. Support for multiple images, quality control, and table data parsing."})]}),s?(0,i.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,i.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,i.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:"Document Preview"}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{onClick:y,className:"bg-green-600 text-white px-6 py-2 rounded-md hover:bg-green-700 transition-colors",children:"Download PDF"}),(0,i.jsx)("button",{onClick:()=>l(!1),className:"bg-gray-500 text-white px-6 py-2 rounded-md hover:bg-gray-600 transition-colors",children:"Edit"})]})]}),(0,i.jsx)(d,{ref:o,tableData:e})]}):(0,i.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6",children:(0,i.jsxs)("div",{className:"space-y-6",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Content Type"}),(0,i.jsxs)("div",{className:"flex space-x-4",children:[(0,i.jsxs)("label",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"radio",value:"table",checked:"table"===e.contentType,onChange:e=>t(t=>({...t,contentType:e.target.value})),className:"mr-2"}),"Table Data"]}),(0,i.jsxs)("label",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"radio",value:"image",checked:"image"===e.contentType,onChange:e=>t(t=>({...t,contentType:e.target.value})),className:"mr-2"}),"Images Only"]}),(0,i.jsxs)("label",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"radio",value:"mixed",checked:"mixed"===e.contentType,onChange:e=>t(t=>({...t,contentType:e.target.value})),className:"mr-2"}),"Table + Images"]})]})]}),(0,i.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Document Title"}),(0,i.jsx)("input",{type:"text",value:e.title,onChange:e=>t(t=>({...t,title:e.target.value})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),(0,i.jsxs)("select",{value:e.fontSize,onChange:e=>t(t=>({...t,fontSize:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,i.jsx)("option",{value:7,children:"7pt (Very Small)"}),(0,i.jsx)("option",{value:8,children:"8pt (Small)"}),(0,i.jsx)("option",{value:9,children:"9pt (Normal)"}),(0,i.jsx)("option",{value:10,children:"10pt (Medium)"}),(0,i.jsx)("option",{value:11,children:"11pt (Large)"})]})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Table Style"}),(0,i.jsx)("div",{className:"flex items-center space-x-4 mt-3",children:(0,i.jsxs)("label",{className:"flex items-center",children:[(0,i.jsx)("input",{type:"checkbox",checked:e.showBorders,onChange:e=>t(t=>({...t,showBorders:e.target.checked})),className:"mr-2"}),"Show Borders"]})})]})]}),("table"===e.contentType||"mixed"===e.contentType)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Paste Your Table Data ","mixed"===e.contentType?"(Optional)":"*"]}),(0,i.jsx)("textarea",{value:a,onChange:e=>m(e.target.value),placeholder:"Paste your table data here (copy directly from Excel, Word, or any source)...",rows:12,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500 font-mono text-sm"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Copy and paste your table data directly from Excel, Word, or any source. The system will automatically detect columns and format them properly."})]}),("image"===e.contentType||"mixed"===e.contentType)&&(0,i.jsxs)("div",{children:[(0,i.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Upload or Paste Images ","mixed"===e.contentType?"(Optional)":"*"]}),(0,i.jsxs)("div",{className:"space-y-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("input",{type:"file",accept:"image/*",multiple:!0,onChange:h,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Select multiple images by holding Ctrl (Windows) or Cmd (Mac)"})]}),(0,i.jsxs)("div",{className:"text-center",children:[(0,i.jsx)("button",{type:"button",onClick:x,className:"bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors",children:"Paste Image from Clipboard"}),(0,i.jsx)("p",{className:"text-sm text-gray-500 mt-2",children:"Copy an image (Ctrl+C) and click this button to paste it directly"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Width (%)"}),(0,i.jsx)("input",{type:"number",min:"20",max:"100",value:e.imageWidth,onChange:e=>t(t=>({...t,imageWidth:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Height (%)"}),(0,i.jsx)("input",{type:"number",min:"20",max:"100",value:e.imageHeight,onChange:e=>t(t=>({...t,imageHeight:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quality (%)"}),(0,i.jsxs)("select",{value:e.imageQuality,onChange:e=>t(t=>({...t,imageQuality:parseInt(e.target.value)})),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-red-500",children:[(0,i.jsx)("option",{value:70,children:"70% (Small file)"}),(0,i.jsx)("option",{value:80,children:"80% (Good)"}),(0,i.jsx)("option",{value:90,children:"90% (High)"}),(0,i.jsx)("option",{value:95,children:"95% (Very High)"}),(0,i.jsx)("option",{value:100,children:"100% (Maximum)"})]})]})]}),e.images.length>0&&(0,i.jsxs)("div",{className:"border border-gray-200 rounded-md p-4",children:[(0,i.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-3",children:["Uploaded Images (",e.images.length,")"]}),(0,i.jsx)("div",{className:"space-y-4",children:e.images.map((e,t)=>(0,i.jsxs)("div",{className:"border border-gray-100 rounded-md p-3",children:[(0,i.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,i.jsx)("img",{src:e.data,alt:e.caption||"Image ".concat(t+1),className:"w-20 h-20 object-cover border border-gray-300 rounded"}),(0,i.jsxs)("div",{className:"flex-1 space-y-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Caption"}),(0,i.jsx)("input",{type:"text",value:e.caption||"",onChange:t=>p(e.id,t.target.value),placeholder:"Image ".concat(t+1),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-red-500"})]}),(0,i.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Width (%)"}),(0,i.jsx)("input",{type:"number",min:"20",max:"100",value:e.width,onChange:t=>b(e.id,parseInt(t.target.value),e.height),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-red-500"})]}),(0,i.jsxs)("div",{children:[(0,i.jsx)("label",{className:"block text-xs font-medium text-gray-600 mb-1",children:"Height (%)"}),(0,i.jsx)("input",{type:"number",min:"20",max:"100",value:e.height,onChange:t=>b(e.id,e.width,parseInt(t.target.value)),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded focus:outline-none focus:ring-1 focus:ring-red-500"})]})]})]}),(0,i.jsx)("button",{type:"button",onClick:()=>u(e.id),className:"p-1 text-red-500 hover:text-red-700",title:"Remove image",children:"✕"})]}),(0,i.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["Size: ",Math.round(.75*e.data.length/1024)," KB"]})]},e.id))})]})]})]}),("table"===e.contentType||"mixed"===e.contentType)&&e.rows.length>0&&(0,i.jsxs)("div",{children:[(0,i.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-3",children:"Parsed Table Preview"}),(0,i.jsxs)("div",{className:"overflow-x-auto border border-gray-200 rounded-md",children:[(0,i.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsx)("tr",{children:e.headers.map((e,t)=>(0,i.jsx)("th",{className:"px-3 py-2 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},t))})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.rows.slice(0,10).map((e,t)=>(0,i.jsx)("tr",{children:e.map((e,t)=>(0,i.jsx)("td",{className:"px-3 py-2 whitespace-nowrap text-sm text-gray-900",children:e},t))},t))})]}),e.rows.length>10&&(0,i.jsxs)("div",{className:"px-3 py-2 text-sm text-gray-500 bg-gray-50",children:["... and ",e.rows.length-10," more rows"]})]})]}),(0,i.jsxs)("div",{className:"flex gap-4",children:[(0,i.jsx)("button",{onClick:()=>{if("table"===e.contentType&&0===e.rows.length){alert("Please paste your table data first");return}if("image"===e.contentType&&0===e.images.length){alert("Please upload or paste an image first");return}l(!0)},className:"bg-red-600 text-white px-6 py-3 rounded-md hover:bg-red-700 transition-colors font-medium",children:"Preview PDF"}),(0,i.jsx)("button",{onClick:()=>window.history.back(),className:"bg-gray-500 text-white px-6 py-3 rounded-md hover:bg-gray-600 transition-colors",children:"Back to Home"})]})]})})]})})}d.displayName="GTCTablePDF"}},function(e){e.O(0,[249,448,818,282,567,971,23,744],function(){return e(e.s=4975)}),_N_E=e.O()}]);